const body=document.getElementsByTagName("body")[0];const createElement=function(tag,classname){let el=document.createElement(tag);if(classname){el.classList.add(classname)}return el};const makeCells=function(height,width){let cells=[];for(let r=0;r<height;r++){for(let c=0;c<width;c++){let element=createElement("div","cell");cells.push({element:element})}}return cells};const makePlayer=function(row,col){return{row:row,col:col,element:createElement("div","player")}};const renderPlayer=function(grid){const player=grid.player;if(player.parentNode){player.parentNode.removeChild(player)}const targetLocation=player.row*grid.width+player.col;grid.cells[targetLocation].element.appendChild(player.element)};const handlePlayerMove=function(event){const player=grid.player;if(event.key==="w")player.row=Math.max(0,player.row-1);else if(event.key==="a")player.col=Math.max(0,player.col-1);else if(event.key==="s")player.row=Math.min(grid.height-1,player.row+1);else if(event.key==="d")player.col=Math.min(grid.width-1,player.col+1);renderPlayer(grid)};body.addEventListener("keydown",handlePlayerMove);const renderGrid=function(grid){const g=grid.element;grid.cells.forEach(cell=>{g.appendChild(cell.element)});renderPlayer(grid);body.appendChild(g)};let grid={width:8,height:8,element:createElement("div","grid"),cells:makeCells(8,8),player:makePlayer(4,4)};renderGrid(grid);
